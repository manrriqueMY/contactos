(this.webpackJsonpcontactos=this.webpackJsonpcontactos||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(4),s=n.n(c),r=(n(11),n(1)),i=n.n(r),l=n(2);class m extends a.Component{constructor(){super(),this.state={contacto:{nombre:"",telefono:"",_id:""},contactos:[]},this.Cambios=this.Cambios.bind(this),this.addCon=this.addCon.bind(this)}componentDidMount(){var e=this;return Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.lsCon();case 1:case"end":return t.stop()}}),t)})))()}Cambios(e,t){let n=this.state.contacto;n[e]=t.target.value,this.setState({contacto:n})}addCon(e){var t=this;return Object(l.a)(i.a.mark((function n(){var a,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!t.state.contacto._id){n.next=13;break}return n.next=4,fetch("/api/contacto/up/".concat(t.state.contacto._id),{method:"PUT",body:JSON.stringify({nombre:t.state.contacto.nombre,telefono:t.state.contacto.telefono}),headers:{Accept:"application/json","Content-Type":"application/json"}});case 4:return a=n.sent,n.next=7,a.json();case 7:o=n.sent,t.setState({contacto:{nombre:"",telefono:"",_id:""}}),t.lsCon(),window.M.toast({html:o.msg},2e3),n.next=22;break;case 13:return n.next=15,fetch("/api/contacto/save",{method:"POST",body:JSON.stringify(t.state.contacto),headers:{Accept:"application/json","Content-Type":"application/json"}});case 15:return a=n.sent,n.next=18,a.json();case 18:o=n.sent,t.setState({contacto:{nombre:"",telefono:"",_id:""}}),t.lsCon(),window.M.toast({html:o.msg},2e3);case 22:case"end":return n.stop()}}),n)})))()}delCon(e){var t=this;return Object(l.a)(i.a.mark((function n(){var a,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/contacto/del/".concat(e),{method:"DELETE"});case 2:return a=n.sent,n.next=5,a.json();case 5:o=n.sent,t.lsCon(),window.M.toast({html:o.msg},2e3);case 8:case"end":return n.stop()}}),n)})))()}upCon(e){var t=this;return Object(l.a)(i.a.mark((function n(){var a,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/contacto/busca/".concat(e));case 2:return a=n.sent,n.next=5,a.json();case 5:o=n.sent,t.setState({contacto:{nombre:o.nombre,telefono:o.telefono,_id:o._id}});case 7:case"end":return n.stop()}}),n)})))()}lsCon(){var e=this;return Object(l.a)(i.a.mark((function t(){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/contacto/lista");case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,e.setState({contactos:a.c});case 7:case"end":return t.stop()}}),t)})))()}render(){return o.a.createElement("div",{className:""},o.a.createElement("div",{className:"row"},o.a.createElement("form",{onSubmit:this.addCon,className:"col s12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"input-field col s6"},o.a.createElement("i",{className:"material-icons prefix"},"account_circle"),o.a.createElement("input",{onChange:this.Cambios.bind(this,"nombre"),value:this.state.contacto.nombre,id:"icon_prefix",type:"text",className:"validate"}),o.a.createElement("label",{for:"icon_prefix"},"First Name")),o.a.createElement("div",{className:"input-field col s6"},o.a.createElement("i",{className:"material-icons prefix"},"phone"),o.a.createElement("input",{onChange:this.Cambios.bind(this,"telefono"),value:this.state.contacto.telefono,id:"icon_telephone",type:"text",className:"validate"}),o.a.createElement("label",{for:"icon_telephone"},"Telephone")),o.a.createElement("div",{className:"input-field col s6"},o.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},"Guardar",o.a.createElement("i",{className:"material-icons right"},"send")))))),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Nombre"),o.a.createElement("th",null,"Telefono"),o.a.createElement("th",null,"Editar"),o.a.createElement("th",null,"Eliminar"))),o.a.createElement("tbody",null,this.state.contactos.map(e=>o.a.createElement("tr",{key:e._id},o.a.createElement("th",null,e.nombre),o.a.createElement("th",null,e.telefono),o.a.createElement("th",null,o.a.createElement("button",{onClick:()=>this.upCon(e._id),className:"btn waves-effect waves-light",type:"submit",name:"action"},o.a.createElement("i",{className:"material-icons right"},"edit"))),o.a.createElement("th",null,o.a.createElement("button",{onClick:()=>this.delCon(e._id),className:"btn waves-effect waves-light",type:"submit",name:"action"},o.a.createElement("i",{className:"material-icons right"},"delete"))))))))}}var u=m;const d=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}s.a.render(o.a.createElement(u,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="".concat("","/service-worker.js");d?(!function(e,t){fetch(e).then(n=>{const a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):h(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):h(t,e)})}}()},5:function(e,t,n){e.exports=n(13)}},[[5,1,2]]]);
//# sourceMappingURL=main.b74e6daa.chunk.js.map